{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:406:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:278:15)\n    at /home/abhiraj/Work/social-media-microservice/api-gateway/src/middleware/auth.middleware.ts:21:29\n    at Object.module.exports [as verify] (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/jsonwebtoken/verify.js:60:12)\n    at validateToken (/home/abhiraj/Work/social-media-microservice/api-gateway/src/middleware/auth.middleware.ts:18:9)\n    at Layer.handle [as handle_request] (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/router/index.js:328:13)","service":"API-Gateway","timestamp":"2025-02-09T07:42:52.141Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (/home/abhiraj/Work/social-media-microservice/api-gateway/src/server.ts:79:57)\n    at decorateProxyReqOpt (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express-http-proxy/app/steps/decorateProxyReqOpts.js:13:14)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"API-Gateway","timestamp":"2025-02-09T07:44:31.461Z"}
{"level":"error","message":"Error: connect ECONNREFUSED 127.0.0.1:3002\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1595:16)","service":"API-Gateway","timestamp":"2025-02-09T07:49:18.019Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:406:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/response.js:278:15)\n    at /home/abhiraj/Work/social-media-microservice/api-gateway/src/middleware/auth.middleware.ts:21:29\n    at Object.module.exports [as verify] (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/jsonwebtoken/verify.js:60:12)\n    at validateToken (/home/abhiraj/Work/social-media-microservice/api-gateway/src/middleware/auth.middleware.ts:18:9)\n    at Layer.handle [as handle_request] (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express/lib/router/index.js:328:13)","service":"API-Gateway","timestamp":"2025-02-09T08:17:32.769Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (/home/abhiraj/Work/social-media-microservice/api-gateway/src/server.ts:79:57)\n    at decorateProxyReqOpt (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express-http-proxy/app/steps/decorateProxyReqOpts.js:13:14)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"API-Gateway","timestamp":"2025-02-09T08:17:40.240Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (/home/abhiraj/Work/social-media-microservice/api-gateway/src/server.ts:79:57)\n    at decorateProxyReqOpt (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express-http-proxy/app/steps/decorateProxyReqOpts.js:13:14)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"API-Gateway","timestamp":"2025-02-09T08:23:05.769Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (/home/abhiraj/Work/social-media-microservice/api-gateway/src/server.ts:79:57)\n    at decorateProxyReqOpt (/home/abhiraj/Work/social-media-microservice/api-gateway/node_modules/express-http-proxy/app/steps/decorateProxyReqOpts.js:13:14)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"API-Gateway","timestamp":"2025-02-09T08:35:00.226Z"}
