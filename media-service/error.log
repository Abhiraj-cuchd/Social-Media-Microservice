{"$fault":"client","$metadata":{"attempts":1,"extendedRequestId":"feDb/4vmI3XN/iHP+wq6rcIRfpt3hevarOjMRwuCMLtBpBh0bYARSJ6IEKACJ/kRT3ffSx1+KLQ=","httpStatusCode":400,"requestId":"0WEDRR1ZGX6XEE9B","totalRetryDelay":0},"Code":"AccessControlListNotSupported","HostId":"feDb/4vmI3XN/iHP+wq6rcIRfpt3hevarOjMRwuCMLtBpBh0bYARSJ6IEKACJ/kRT3ffSx1+KLQ=","RequestId":"0WEDRR1ZGX6XEE9B","level":"error","message":"The bucket does not allow ACLs","name":"AccessControlListNotSupported","service":"Media Service","stack":"AccessControlListNotSupported: The bucket does not allow ACLs\n    at throwDefaultError (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/@smithy/smithy-client/dist-cjs/index.js:867:20)\n    at /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@smithy/smithy-client/dist-cjs/index.js:876:5\n    at de_CommandError (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/@aws-sdk/client-s3/dist-cjs/index.js:4970:14)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@smithy/middleware-serde/dist-cjs/index.js:35:20\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:483:18\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@smithy/middleware-retry/dist-cjs/index.js:321:38\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js:315:18\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:109:22\n    at async /home/abhiraj/Work/social-media-microservice/media-service/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:136:14","timestamp":"2025-02-10T09:01:53.010Z"}
{"level":"error","message":"Error uploading to S3: Cannot read properties of undefined (reading 'userId')","service":"Media Service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:12:33\n    at step (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:33:23)\n    at Object.next (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:14:53)\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:8:71\n    at new Promise (<anonymous>)\n    at __awaiter (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:4:12)\n    at handleUploadMedia (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:6:64)\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/routes/index.ts:8:22\n    at Layer.handle [as handle_request] (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-02-10T09:16:02.138Z"}
{"level":"error","message":"Error uploading to S3: Cannot read properties of undefined (reading 'userId')","service":"Media Service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:12:33\n    at step (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:33:23)\n    at Object.next (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:14:53)\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:8:71\n    at new Promise (<anonymous>)\n    at __awaiter (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:4:12)\n    at handleUploadMedia (/home/abhiraj/Work/social-media-microservice/media-service/src/controllers/media.controller.ts:6:64)\n    at /home/abhiraj/Work/social-media-microservice/media-service/src/routes/index.ts:8:22\n    at Layer.handle [as handle_request] (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/abhiraj/Work/social-media-microservice/media-service/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-02-10T09:16:23.983Z"}
